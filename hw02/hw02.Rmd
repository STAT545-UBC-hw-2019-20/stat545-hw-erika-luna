---
title: "Assignment 2"
author: "Md. Belal Hossain"
output:
  html_document:
    toc: yes
editor_options:
  chunk_output_type: inline
---

```{r load, warning=FALSE, echo=FALSE}
library(gapminder)
library(dplyr)
library(tidyverse)
library(ggplot2)
```

# Exercise 1

## 1.1

```{r}
gapminder_modified <- filter(gapminder, year < 1980 & year > 1970 &
       country == "Brazil" |
         country == "Israel" |
         country == "Portugal")
```


<!-- Use filter() to subset the gapminder data to three countries of your choice in the 1970???s. -->

```{r q1.1}
#knitr::kable(
#(eves_data <- gapminder %>%
  #filter((country == "South Africa" | country == "Canada" | country == "United Kingdom") & 
           #(year >= 1970 & year <= 1979)))
#)
```


## 1.2

```{r}
gapminder_modified %>% 
  select(country, gdpPercap)
```



<!-- Use the pipe operator %>% to select ???country??? and ???gdpPercap??? from your filtered dataset in 1.1. -->

```{r q1.2}
#knitr::kable(
#eves_data %>% 
  #select(country, gdpPercap))
  
```

## 1.3

```{r}
gapminder %>% 
  mutate(lifeExpInc = lifeExp - lag(lifeExp)) %>% 
  filter(lifeExpInc > 0)

```




<!-- Filter gapminder to all entries that have experienced a drop in life expectancy.  -->
<!-- Be sure to include a new variable that???s the increase in life expectancy in your  -->
<!-- tibble. Hint: you might find the lag() or diff() functions useful. -->


```{r q1.3}
#knitr::kable(
#gapminder %>%
  #mutate(change_lifeExp = lifeExp - first(lifeExp)) %>% 
  #filter(change_lifeExp <0)
#)
```

## 1.4

```{r}
gapminder %>% 
       group_by(country) %>% 
        filter(gdpPercap == max(gdpPercap))
```


<!-- Filter gapminder so that it shows the max GDP per capita experienced by  -->
<!-- each country. Hint: you might find the max() function useful here. -->

```{r q1.4}
#DT::datatable(
#gapminder %>%
  #group_by(country) %>% 
  #filter(gdpPercap == max(gdpPercap)))
```


## 1.5

<!-- Produce a scatterplot of Canada???s life expectancy vs. GDP per capita using ggplot2,  -->
<!-- without defining a new variable. That is, after filtering the gapminder data set,  -->
<!-- pipe it directly into the ggplot() function. Ensure GDP per capita is on a log scale. -->

```{r}
gapminder %>% 
  filter(country == 'Canada') %>% 
  ggplot(aes(lifeExp, gdpPercap)) +
  geom_point() +
  scale_x_log10()
```


```{r q1.5, fig.width = 5, fig.height = 2}
#gapminder %>% 
  #filter(country =="Canada") %>%
  #ggplot(aes(gdpPercap, lifeExp)) +
    #geom_point() +
    #xlab("GDP per capita") +
    #ylab("Life expectancy") +
    #ggtitle("Life expectancy vs. GDP per capita in Canada")+
    #scale_x_log10()
  
```



## Exercise 2

Categorical variable: Continet

There are 5 possible values for the variable Continent:

```{r}
summary(gapminder$continent)
```

The following graphic shows the amount of data per continent:

```{r}
ggplot(gapminder, aes(continent)) +
  geom_bar()+
  ylab("Count")+
  xlab("Continent")
```

Quantitative variable: Population

```{r}
range(gapminder$pop)
```

The following graphic shows the ammount of population in each continent:

```{r}
ggplot(gapminder, aes(continent, pop)) +
  geom_col()
```






Then we can also look at the distribution for life expectancy over the continents:
```{r}
ggplot(gapminder, aes(continent, gdpPercap)) +
  #geom_point() +
  geom_boxplot()
```


## Question 3



## Recycling

For people who want to take things further.

Evaluate this code and describe the result. Presumably the analyst???s intent was to get the data for Rwanda and Afghanistan. Did they succeed? Why or why not? If not, what is the correct way to do this?


```{r}
DT::datatable(filter(gapminder, country == c("Rwanda", "Afghanistan")))
```

This code does work and produces a table with the data for Rwanda and Afghanistan.Presumably this is because `country == c("Rwanda", "Afghanistan")` evaluated the same as `(country == "Rwanda" | country=="Afghanistan")`, thus data for both countries is returned. 